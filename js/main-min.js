function shuffle(e){var n,t,r;for(r=e.length;r;r--)n=Math.floor(Math.random()*r),t=e[r-1],e[r-1]=e[n],e[n]=t;console.log(e),e.sort(function(e,n){return e.complete&&n.complete?0:e.complete?1:-1})}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function toDashes(e){return e.replace(" ","-")}function toSpaces(e){return e.replace("-"," ")}function changeScreen(e,n){$lastScreen=$currentScreen,$currentScreen=e;var t=$(".screen:not(."+e+")"),r=t.length;t.fadeOut($globalFadeTime,function(){--r>0||(n&&n.before&&n.before(),$("."+e).fadeIn($globalFadeTime,function(){n&&n.after&&n.after()}))})}function evalTriggers(){$(".btn-trigger").each(function(){$objects[$(this).attr("data-id")].found&&$(this).css("background","red").addClass("found")}),3==$(".btn-trigger.found").length&&alert("game over!")}var $currentScreen="screen-splash",$globalFadeTime=400,$currentObject,$objects={100:{name:"CD",slug:"cd",id:100,distractors:[{name:"Pen",slug:"pen"},{name:"Wrench",slug:"wrench"}]},200:{name:"Envelope",slug:"envelope",id:200,distractors:[{name:"Knife",slug:"knife"},{name:"Calculator",slug:"calculator"}]},300:{name:"USB",slug:"usb",id:300,distractors:[{name:"Mouse",slug:"mouse"},{name:"Soda",slug:"soda"}]}};$.fn.randomize=function(e){return(e?this.find(e):this).parent().each(function(){$(this).children(e).sort(function(){return Math.random()-.5}).detach().appendTo(this)}),this},$(document).ready(function(){$(".nav-link").on("click",function(){return changeScreen($(this).attr("data-to")),!1}),$(".btn-trigger").click(function(){return $currentObject=$(this).attr("data-id"),$.get("template-foundModal.html",function(e){var n=Mustache.render(e,{id:$currentObject});$(".dynamic-modal").empty().html(n),$("#modal-found").modal()}),!1}),$("body").on("click",".btn-found",function(){return $("#modal-found").modal("hide"),$.get("template-found.html",function(e){var n=Mustache.render(e,$objects[$currentObject]);$(".screen-found").empty().html(n),$(".found-options").randomize(".found-option"),changeScreen("screen-found")}),!1}),$("body").on("click",".found-option a",function(){return $(this).hasClass("correct")?alert("Correct"):alert("Incorrect"),$objects[$currentObject].found=!0,evalTriggers(),changeScreen("screen-search"),!1})});